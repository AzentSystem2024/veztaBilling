<header>
  <dx-toolbar class="header-toolbar">
    <dxi-item
      *ngIf="menuToggleEnabled"
      location="before"
      widget="dxButton"
      cssClass="menu-button"
      [options]="{
        icon: 'menu',
        stylingMode: 'text',
        onClick: toggleMenu
      }"
    >
    </dxi-item>
    <dxi-item
      location="before"
      cssClass="header-title"
      *ngIf="title"
      [text]="title"
    >
    </dxi-item>

    <dxi-item location="after" locateInMenu="never">
      <ng-container *dxTemplate>
        <theme-switcher></theme-switcher>
      </ng-container>
    </dxi-item>

    <dxi-item location="after">
      <div *dxTemplate>
        <div class="messages">
          <dx-button icon="belloutline" stylingMode="text"> </dx-button>
          <div class="dx-badge">4</div>
        </div>
      </div>
    </dxi-item>

    <!-- <dxi-item location="after">
      <dx-dropdown-button
        stylingMode="text"
        [dropDownOptions]="{ width: 150 }"
        [items]="userMenuItems"
        displayExpr="text"
        keyExpr="id"
        icon="user"
        (onItemClick)="logout()">
      </dx-dropdown-button>
    </dxi-item> -->

    <dxi-item location="after">
      <dx-button
        icon="user"
        hint="Logout"
        stylingMode="text"
        (onClick)="logout()">
      </dx-button>
    </dxi-item>
    
    
    
    <dxi-item location="after" locateInMenu="auto" menuItemTemplate="menuItem">
      <div *dxTemplate="let data of 'item'">
        <!-- <user-panel
        [user]="user"
        [menuItems]="userMenuItems"
        menuMode="context"
        id="userPanel"
      ></user-panel> -->
      <!-- Tooltip to display loginName -->
      <dx-tooltip
        target="#userPanel"
        [visible]="true"
        showEvent="mouseenter"
        hideEvent="mouseleave"
      >
      <span>{{ user.name }}</span>
    </dx-tooltip>
        
      </div>
    </dxi-item>
    <div *dxTemplate="let data of 'menuItem'">
      <user-panel
        [user]="user"
        [menuItems]="userMenuItems"
        menuMode="list"
      ></user-panel>
    </div>
  </dx-toolbar>
</header>
